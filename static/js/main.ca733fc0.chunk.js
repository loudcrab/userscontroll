(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),u=a(108),i=a(12),o=a(11),s=a(101),m=a(111),d=a(112),p=a(103),f=a(106),v=a(110),E=a(109),g=a(114),h=a(44),b=a(17),x=a.n(b),y=a(29),k="SAVE_ALL",O=function(e,t){switch(t.type){case k:return t.users;default:return e}},j=function(){var e=Object(y.a)(x.a.mark((function e(){var t,a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=null===(t=(a=localStorage).getItem)||void 0===t?void 0:t.call(a,"usersStorage"),e.abrupt("return",JSON.parse(n)||[]);case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.setItem("usersStorage",JSON.stringify(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=["\u0422\u0438\u043c\u043b\u0438\u0434","\u0424\u0440\u043e\u043d\u0442","\u0411\u044d\u043a"],w=["male","female","other"],U=Object(n.createContext)({users:[],dispatch:function(){}}),T=function(e){var t=e.children,a=Object(n.useReducer)(O,[]),c=Object(i.a)(a,2),l=c[0],u=c[1];return r.a.createElement(U.Provider,{value:{users:l,dispatch:u}},t)},I=function(){var e=Object(n.useContext)(U),t=e.users,a=e.dispatch,r=Object(n.useState)(t),c=Object(i.a)(r,2),l=c[0],u=c[1],s=Object(n.useState)(F),m=Object(i.a)(s,2),d=m[0],p=m[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){var e=Object(y.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,a({type:k,users:t}),u(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){u(t)}),[t]);var v=function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(l);case 2:a({type:k,users:l});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log("selected",d),{usersState:l,setUsersState:u,selectedUser:d,setSelectedUser:p,update:function(){return f()},save:v,remove:function(){if(-1!==d.id){var e=l.findIndex((function(e){var t=e.id;return(null===d||void 0===d?void 0:d.id)===t})),t=l.filter((function(t,a){return e!==a}));u(t),p(F)}},add:function(){var e=l.length?l.length+1:1,t=Object(h.a)(Object(h.a)({},F),{},{id:e});u([].concat(Object(o.a)(l),[t])),p(t)}}},F={id:-1,name:"",position:"\u0422\u0438\u043c\u043b\u0438\u0434",birthday:"1970-11-11",sex:"male",fired:!1,"\u0441olleagues":[]},J=function(){return r.a.createElement(u.a,{width:"100%"},r.a.createElement(L,null))},L=function(){var e=I(),t=e.usersState,a=e.setUsersState,n=e.selectedUser,c=e.setSelectedUser;return r.a.createElement(s.a,{container:!0,spacing:8},r.a.createElement(s.a,{item:!0,xs:6},t.map((function(e,a){return r.a.createElement(m.a,{onClick:function(e){console.log("users[idx]",t[a]),c(t[a])},key:a},a+1,". ",e.name)}))),r.a.createElement(s.a,{item:!0,xs:6},-1!==n.id?r.a.createElement(A,Object.assign({selectedUser:n,changeField:function(e){return function(e){var r=e.key,c=e.value;if(t.length){console.log("selected");var l=t.findIndex((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}));a((function(e){return e[l][r]=c,e[l].edit=!0,Object(o.a)(e)}))}}({key:e.key,value:e.value})}},n)):"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0433\u043e"))},A=function(e){var t=e.changeField,a=e.selectedUser,n=a.id,c=a.name,l=a.position,i=a.birthday,o=a.sex,s=a.fired,g=a.\u0441olleagues;return console.log("id",n),r.a.createElement(u.a,{display:"flex",width:"100%",flexDirection:"column"},r.a.createElement(u.a,null,r.a.createElement(d.a,null,"id: ",n)),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u0418\u043c\u044f"),r.a.createElement(p.a,{value:c,onChange:function(e){t({key:"name",value:e.target.value})}})),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),r.a.createElement(f.a,{value:l,onChange:function(e){t({key:"position",value:e.target.value})}},C.map((function(e,t){return r.a.createElement(m.a,{key:t,value:e},e)})))),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u041f\u043e\u043b"),r.a.createElement(f.a,{value:o,onChange:function(e){t({key:"sex",value:e.target.value})}},w.map((function(e,t){return r.a.createElement(m.a,{key:t,value:e},e)})))),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),r.a.createElement(v.a,{id:"date",value:i,type:"date",onChange:function(e){t({key:"birthday",value:e.target.value})}})),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u0423\u0432\u043e\u043b\u0435\u043d"),r.a.createElement(E.a,{value:s,onChange:function(e){t({key:"fired",value:e.target.value})}})),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u041a\u043e\u043b\u043b\u0435\u0433\u0438"),r.a.createElement(N,{"\u0441olleagues":g,onChange:t})))},N=function(e){e.\u0441olleagues;var t=e.onChange,a=I(),c=a.usersState,l=a.selectedUser,u=Object(n.useMemo)((function(){return c.map((function(e){return e.name}))}),[c]),o=r.a.useState(l.\u0441olleagues),s=Object(i.a)(o,2),d=s[0],v=s[1];return r.a.createElement(f.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:d,onChange:function(e){v(e.target.value),t({key:"\u0441olleagues",value:e.target.value})},input:r.a.createElement(p.a,null),renderValue:function(e){return e.join(", ")}},u.map((function(e){return r.a.createElement(m.a,{key:e,value:e},r.a.createElement(E.a,{checked:d.indexOf(e)>-1}),r.a.createElement(g.a,{primary:e}))})))},P=a(105),B=function(e){return r.a.createElement(P.a,Object.assign({color:"primary",variant:"contained"},e),e.children)},D=function(){var e=I(),t=e.update,a=e.save,n=e.remove,c=e.add;return r.a.createElement(u.a,{p:2},r.a.createElement(s.a,{container:!0,xs:6,spacing:2},r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(B,{onClick:a},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\xbb")),r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(B,{onClick:t},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")),r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(B,{onClick:n},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430")),r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(B,{onClick:c},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"))))},M=function(){return r.a.createElement(u.a,null,r.a.createElement(D,null),r.a.createElement(J,null))};var V=function(){return r.a.createElement(T,null,r.a.createElement("div",{className:"App"},r.a.createElement(M,null)))},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,116)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)}))};a(69);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),R()}},[[70,1,2]]]);
//# sourceMappingURL=main.ca733fc0.chunk.js.map