(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),u=a(109),i=a(10),o=a(13),s=a(105),p=a(114),d=a(112),m=a(104),f=a(107),v=a(111),E=a(110),g=a(115),b=a(17),h=a.n(b),x=a(28),y=a(12),O=a(14),j="SELECT_USER",k="REMOVE_USER",C="UPDATE_USER",U="ADD_NEW_USER",w="SAVE_ALL",S=function(e,t){var a,n=null===e||void 0===e||null===(a=e.users)||void 0===a?void 0:a.findIndex((function(t){var a,n=t.id;return(null===(a=e.selectedUser)||void 0===a?void 0:a.id)===n}));switch(t.type){case w:return Object(i.a)(Object(i.a)({},e),{},{isEdited:!1,users:t.users,selectedUser:B});case U:var r=e.users.length?e.users.length+1:1,c=Object(i.a)(Object(i.a)({},B),{},{id:r});return Object(i.a)(Object(i.a)({},e),{},{isEdited:!0,users:[].concat(Object(O.a)(e.users),[c]),selectedUser:c});case k:if(-1===e.selectedUser.id)return e;var l=e.users.filter((function(e,t){return n!==t}));return Object(i.a)(Object(i.a)({},e),{},{isEdited:!0,users:l,selectedUser:B});case C:var u,o=Object(O.a)(e.users);if(t.customProps)o[n]=Object(i.a)(Object(i.a)({},o[n]),{},{customProps:Object(i.a)(Object(i.a)({},null===(u=o[n])||void 0===u?void 0:u.customProps),{},Object(y.a)({},t.key,{type:t.typeOfField,value:t.value}))});else o[n][t.key]=t.value;return Object(i.a)(Object(i.a)({},e),{},{isEdited:!0,users:o,selectedUser:o[n]});case j:return Object(i.a)(Object(i.a)({},e),{},{selectedUser:e.users[t.id]});default:return e}},T=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=null===(t=(a=localStorage).getItem)||void 0===t?void 0:t.call(a,"usersStorage"),e.abrupt("return",JSON.parse(n)||[]);case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.setItem("usersStorage",JSON.stringify(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=a(40),R=a(101),D=function(e){return r.a.createElement(R.a,Object.assign({color:"primary",variant:"contained"},e),e.children)},I=function(e){var t=e.value,a=e.onChange;return r.a.createElement(f.a,{value:t,onChange:function(e){a(e.target.value)}},L.map((function(e,t){return r.a.createElement(p.a,{key:t,value:e},e)})))},L=["string","date","boolean","number"],_=Object(F.a)((function(e){var t=e.close,a=Object(n.useState)(""),c=Object(o.a)(a,2),l=c[0],i=c[1],p=Object(n.useState)("string"),f=Object(o.a)(p,2),v=f[0],E=f[1];return r.a.createElement(u.a,{p:"12px",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"fixed",top:40,left:40,bgcolor:"#FFF",borderRadius:4,width:"300px",height:"400px",boxShadow:"rgba(0, 0, 0, 0.25) 0px 54px 55px, rgba(0, 0, 0, 0.12) 0px -12px 30px, rgba(0, 0, 0, 0.12) 0px 4px 6px, rgba(0, 0, 0, 0.17) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;"},r.a.createElement(u.a,null,r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 \u0434\u043b\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),r.a.createElement(m.a,{value:l,onChange:function(e){return i(e.target.value)}})),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430"),r.a.createElement(I,{value:v,onChange:E}))),r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(D,{onClick:function(){return t({title:l,type:v})}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(D,{onClick:function(){return t()}},"\u041e\u0442\u043c\u0435\u043d\u0430"))))})),A=["\u0422\u0438\u043c\u043b\u0438\u0434","\u0424\u0440\u043e\u043d\u0442","\u0411\u044d\u043a"],J=["male","female","other"],N=Object(n.createContext)({users:[],dispatch:function(){}}),M=function(e){var t=e.children,a=Object(n.useReducer)(S,[]),c=Object(o.a)(a,2),l=c[0],u=c[1];return r.a.createElement(N.Provider,{value:{store:l,dispatch:u}},t)},V=function(){var e=Object(n.useContext)(N),t=e.store,a=e.dispatch,r=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,a({type:w,users:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t.users);case 2:a({type:w,users:t.users});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:a({type:C,customProps:!0,key:t.title,typeOfField:t.type,value:null});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.a)({updateUser:function(e){a(Object(i.a)({type:C},e))},update:function(){return r()},fetchUsers:r,save:c,remove:function(){a({type:k})},add:function(){a({type:U})},selectUser:function(e){a({type:j,id:e})},addProperty:l},t)},B={id:-1,name:"",position:"\u0422\u0438\u043c\u043b\u0438\u0434",birthday:"1970-11-11",sex:"male",fired:!1,"\u0441olleagues":[]},W=function(){return r.a.createElement(u.a,{width:"100%"},r.a.createElement(q,null))},q=function(){var e=V(),t=e.users,a=e.updateUser,c=e.fetchUsers,l=e.selectedUser,i=e.selectUser;Object(n.useEffect)((function(){c()}),[]);return t?r.a.createElement(s.a,{container:!0,spacing:8},r.a.createElement(s.a,{item:!0,xs:6},t.map((function(e,t){return r.a.createElement(p.a,{onClick:function(e){i(t)},key:t},t+1,". ",e.name)}))),r.a.createElement(s.a,{item:!0,xs:6},-1!==l.id?r.a.createElement(z,Object.assign({selectedUser:l,changeField:function(e){return function(e){var n=e.key,r=e.value;t.length&&a({key:n,value:r})}({key:e.key,value:e.value})}},l)):"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0433\u043e")):r.a.createElement(u.a,null,"Loading")},z=function(e){var t=e.changeField,a=e.selectedUser,n=a.id,c=a.name,l=a.position,i=a.birthday,o=a.sex,s=a.fired,g=a.\u0441olleagues;return r.a.createElement(u.a,{display:"flex",width:"100%",flexDirection:"column"},r.a.createElement(u.a,null,r.a.createElement(d.a,null,"id: ",n)),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u0418\u043c\u044f"),r.a.createElement(m.a,{value:c,onChange:function(e){t({key:"name",value:e.target.value})}})),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),r.a.createElement(f.a,{value:l,onChange:function(e){t({key:"position",value:e.target.value})}},A.map((function(e,t){return r.a.createElement(p.a,{key:t,value:e},e)})))),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u041f\u043e\u043b"),r.a.createElement(f.a,{value:o,onChange:function(e){t({key:"sex",value:e.target.value})}},J.map((function(e,t){return r.a.createElement(p.a,{key:t,value:e},e)})))),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),r.a.createElement(v.a,{id:"date",value:i,type:"date",onChange:function(e){t({key:"birthday",value:e.target.value})}})),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u0423\u0432\u043e\u043b\u0435\u043d"),r.a.createElement(E.a,{value:s,onChange:function(e){t({key:"fired",value:e.target.value})}})),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,"\u041a\u043e\u043b\u043b\u0435\u0433\u0438"),r.a.createElement(G,{"\u0441olleagues":g,onChange:t})),r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null),r.a.createElement(H,null)))},G=function(e){e.\u0441olleagues;var t=e.onChange,a=V(),c=a.users,l=a.selectedUser,u=Object(n.useMemo)((function(){return c.map((function(e){return e.name}))}),[c]),i=Object(n.useState)(l.\u0441olleagues),s=Object(o.a)(i,2),d=s[0],v=s[1];Object(n.useEffect)((function(){v(l.\u0441olleagues)}),[l]);return r.a.createElement(f.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:d,onChange:function(e){v(e.target.value),t({key:"\u0441olleagues",value:e.target.value})},input:r.a.createElement(m.a,null),renderValue:function(e){return e.join(", ")}},u.map((function(e){return r.a.createElement(p.a,{key:e,value:e},r.a.createElement(E.a,{checked:d.indexOf(e)>-1}),r.a.createElement(g.a,{primary:e}))})))},H=function(){var e=V(),t=e.updateUser,a=e.selectedUser,n=a.customProps;console.log(a);return r.a.createElement(u.a,null,r.a.createElement(d.a,null,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),function(){var e=[],a=function(a){if(Object.prototype.hasOwnProperty.call(n,a)){var c=n[a],l=c.type,o=c.value,s=r.a.createElement(u.a,{paddingTop:"8px"},r.a.createElement(d.a,null,a),K[l]({onChange:function(e){return n={value:e,key:a,typeOfField:l},void t(Object(i.a)(Object(i.a)({},n),{},{customProps:!0}));var n},value:o}));e.push(s)}};for(var c in n)a(c);return e}())},K={string:function(e){var t=e.onChange,a=e.value;return r.a.createElement(m.a,{value:a,onChange:function(e){t(e.target.value)}})},date:function(e){var t=e.onChange,a=e.value;return r.a.createElement(v.a,{value:a,type:"date",onChange:function(e){t(e.target.value)}})},number:function(e){var t=e.onChange,a=e.value;return r.a.createElement(m.a,{value:a,onChange:function(e){t(e.target.value)}})},boolean:function(e){var t=e.onChange,a=e.value;return r.a.createElement(E.a,{value:a,onChange:function(e){t(e.target.value)}})}},Q=function(){var e=V(),t=e.update,a=e.save,n=e.remove,c=e.add,l=e.addProperty,i=e.selectedUser,o=e.isEdited,p=-1!==(null===i||void 0===i?void 0:i.id);return r.a.createElement(u.a,{p:2},r.a.createElement(s.a,{container:!0,xs:6,spacing:2},r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(D,{onClick:a,disabled:!o},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\xbb")),r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(D,{onClick:t},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")),r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(D,{onClick:n,disabled:!p},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430")),r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(D,{onClick:c},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430")),r.a.createElement(s.a,{item:!0,xs:!0},r.a.createElement(D,{onClick:l,disabled:!p},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442"))))},X=function(){return r.a.createElement(u.a,null,r.a.createElement(Q,null),r.a.createElement(W,null))};var Y=function(){return r.a.createElement(M,null,r.a.createElement("div",{className:"App"},r.a.createElement(X,null)),r.a.createElement(u.a,null,r.a.createElement(F.b,null)))},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,117)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)}))};a(70);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),Z()}},[[71,1,2]]]);
//# sourceMappingURL=main.20097bee.chunk.js.map